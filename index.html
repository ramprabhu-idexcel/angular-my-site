<html ng-app="MyApp">
    <head>
        <title>Basic Binding App</title>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
        <link rel="stylesheet" type="text/css" href="main.css" />
        <script src="app.js" type="text/javascript"></script>
        <script src="service.js" type="text/javascript"></script>
        <script src="controller.js" type="text/javascript"></script>
    </head>
    <body>
        <div ng-controller="BookStore">
            <br />
            <h2> Calculator </h2>
            <div style="border: 1px solid blue">
                <form name="Calc">
                    <table>
                        <tr>
                            <td>Number1: </td>
                            <td><input type="number" ng-model="number1" name="number1" required/></td>
                            <td><span style="color: red;" ng-show="Calc.number1.$error.required">Number1 is required</span></td>
                        </tr>
                        <tr>
                            <td>Number2: </td>
                            <td><input type="number" ng-model="number2" name="number2" required/></td>
                            <td><span style="color: red;" ng-show="Calc.number2.$error.required">Number2 is required</span></td>
                        </tr>
                        <tr>
                            <td>Output: </td>
                            <td><input type="number" ng-model="answer" name="answer" /></td>
                        </tr>
                        <tr>
                            <td colspan="3">
                                <button  ng-click="add()">+</button>
                                <button  ng-click="subtract()">-</button>
                                <button  ng-click="multiply()">*</button>
                                <button  ng-click="divide()">/</button>
                            </td>
                        </tr>

                    </table>
                </form>
                </div>
            <h2> Maths </h2>
            <div style="border: 1px solid blue">
                <form name="Math">
                    <table>
                        <tr>
                            <td>Number: </td>
                            <td><input type="number" ng-model="number3" name="number3" required/></td>
                            <td><span style="color: red;" ng-show="Math.number3.$error.required">Number is required</span></td>
                        </tr>
                        <tr>
                            <td>Output: </td>
                            <td><input type="number" ng-model="Mathanswer" name="answer" /></td>
                        </tr>
                        <tr>
                            <td colspan="3">
                                <button  ng-click="square()">X<sup>2</sup></button>
                                <button  ng-click="cube()">X<sup>3</sup></button>
                            </td>
                        </tr>

                    </table>
                </form>
            </div>

            <h2> Add new book </h2>
            <div style="border: 1px solid blue">
                <form name="BookForm">
                    <table>
                        <tr>
                            <td>ISBN: </td>
                            <td><input type="text" ng-model="item.ISBN" name="ISBN" required/></td>
                            <td><span style="color: red;" ng-show="BookForm.ISBN.$error.required">ISBN is required</span></td>
                        </tr>
                        <tr>
                            <td>Name: </td>
                            <td> <input type="text" ng-model="item.Name" name="Name" required/></td>
                            <td><span style="color: red;" ng-show="BookForm.Name.$error.required">Name is required</span></td>
                        </tr>
                        <tr>
                            <td>Price: </td>
                            <td> <input type="number" ng-model="item.Price" name="Price" required/></td>
                            <td><span style="color: red;" ng-show="BookForm.Price.$error.required">Price is required</span></td>
                        </tr>
                        <tr>
                            <td>Quantity: </td>
                            <td> <input type="number" ng-model="item.Quantity" name="Quantity" required/></td>
                            <td><span style="color: red;" ng-show="BookForm.Quantity.$error.required">Quantity is required</span></td>
                        </tr>
                        <tr>
                            <td colspan="3">
                                <input type="Button" value="Add to list" ng-click="item && addItem(item)" />
                            </td>
                        </tr>
                    </table>
                </form>
            </div>

            <div style="padding-top:15px;">
                <table border="1" class="mytable">
                    <tr>
                        <td>ISBN</td>
                        <td>Name</td>
                        <td>Price</td>
                        <td>Quantity</td>
                        <td>Total Price</td>
                        <td>Action</td>
                    </tr>

                    <tr ng-repeat="item in items">
                        <td>{{ item.ISBN }}</td>
                        <td>
                            <span ng-hide="editMode">{{ item.Name }}</span>
                            <input type="text" ng-show="editMode" ng-model="item.Name" />
                        </td>

                        <td>
                            <span ng-hide="editMode">{{ item.Price }}</span>
                            <input type="number" ng-show="editMode" ng-model="item.Price"  />
                        </td>

                        <td>
                            <span ng-hide="editMode">{{ item.Quantity }}</span>
                            <input type="number" ng-show="editMode" ng-model="item.Quantity"  />
                        </td>

                        <td>{{(item.Quantity) * (item.Price)}}</td>
                        <td>
                            <span><button type="submit" ng-hide="editMode" ng-click="editMode = true; editItem(item)" >Edit</button></span>
                            <span><button type="submit" ng-show="editMode" ng-click="editMode = false">Save</button></span>
                            <span><input type="button" value="Delete" ng-click="removeItem($index)" /></span>
                        </td>
                    </tr>
                </table>
            </div>
            <br/>
            <div style="font-weight:bold">Grand Total: {{ totalPrice() }}</div>
            <br/>
        </div>
    </body>
</html>